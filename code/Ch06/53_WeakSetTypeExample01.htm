<!DOCTYPE html>
<html>
<head>
    <title>Map Type Example</title>
</head>
<body>
<script>
    val2 = {id: 2},
        val3 = {id: 3};
    // 使用数组初始化弱集合
    const ws1 = new WeakSet([val1, val2, val3]);
    alert(ws1.has(val1)); // true
    alert(ws1.has(val2)); // true
    alert(ws1.has(val3)); // true

    // 初始化是全有或全无的操作
    // 只要有一个值无效就会抛出错误，导致整个初始化失败
    const ws2 = new WeakSet([val1, "BADVAL", val3]);
    // TypeError: Invalid value used in WeakSet
    typeof ws2;
    // ReferenceError: ws2 is not defined
    // 原始值可以先包装成对象再用作值
    const stringVal = new String("val1");
    const ws3 = new WeakSet([stringVal]);
    alert(ws3.has(stringVal)); // true

</script>
</body>
</html>
